var pokemonRepository=function(){var t=[],e=$(".pokemon-list"),o="https://pokeapi.co/api/v2/pokemon/?limit=150";function n(e){t.push(e)}function a(t){pokemonRepository.loadDetails(t).then(function(){i(t)})}function i(t){var e=$(".modal-body");t.name=t.name.charAt(0).toUpperCase()+t.name.substring(1);var o=$(".modal-title").text(t.name),n=$('<p class="pokemon-height"></p>').text("Height: "+t.height+" Decimetres."),a=$('<p class="pokemon-weight"></p>').text("Weight: "+t.weight+" Hectograms."),i=$('<p class="pokemon-type"></p>').text("Type: "+t.types+"."),p=$('<img class="pokemon-picture">');p.attr("src",t.imageUrl),e.children().length&&e.children().remove(),e.append(p).append(o).append(n).append(a).append(i)}return{add:n,getAll:function(){return t},addListItem:function(t){var o=$('<button type="button" class="pokemon-list_item list-group-item list-group-item-action" data-toggle="modal" data-target="#pokemon-modal"></button>');o.text(t.name),e.append(o),o.click(function(){a(t)})},showDetails:a,loadList:function(){return $.ajax(o,{dataType:"json"}).then(function(t){t.results.forEach(function(t){n({name:t.name,detailsUrl:t.url})})}).catch(function(t){console.error(t)})},loadDetails:function(t){var e=t.detailsUrl;return $.ajax(e,{dataType:"json"}).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.weight=e.weight,2==e.types.length?t.types=[e.types[0].type.name,e.types[1].type.name]:t.types=[e.types[0].type.name]}).catch(function(t){console.error(t)})},showModal:i}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});
